<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml" lang="" xml:lang="">
<head>
  <meta charset="utf-8" />
  <meta name="generator" content="pandoc" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=yes" />
  <title>Animaciones</title>
  <style>
    code{white-space: pre-wrap;}
    span.smallcaps{font-variant: small-caps;}
    span.underline{text-decoration: underline;}
    div.column{display: inline-block; vertical-align: top; width: 50%;}
    div.hanging-indent{margin-left: 1.5em; text-indent: -1.5em;}
    ul.task-list{list-style: none;}
    pre > code.sourceCode { white-space: pre; position: relative; }
    pre > code.sourceCode > span { display: inline-block; line-height: 1.25; }
    pre > code.sourceCode > span:empty { height: 1.2em; }
    code.sourceCode > span { color: inherit; text-decoration: inherit; }
    div.sourceCode { margin: 1em 0; }
    pre.sourceCode { margin: 0; }
    @media screen {
    div.sourceCode { overflow: auto; }
    }
    @media print {
    pre > code.sourceCode { white-space: pre-wrap; }
    pre > code.sourceCode > span { text-indent: -5em; padding-left: 5em; }
    }
    pre.numberSource code
      { counter-reset: source-line 0; }
    pre.numberSource code > span
      { position: relative; left: -4em; counter-increment: source-line; }
    pre.numberSource code > span > a:first-child::before
      { content: counter(source-line);
        position: relative; left: -1em; text-align: right; vertical-align: baseline;
        border: none; display: inline-block;
        -webkit-touch-callout: none; -webkit-user-select: none;
        -khtml-user-select: none; -moz-user-select: none;
        -ms-user-select: none; user-select: none;
        padding: 0 4px; width: 4em;
      }
    pre.numberSource { margin-left: 3em;  padding-left: 4px; }
    div.sourceCode
      { color: #cccccc; background-color: #303030; }
    @media screen {
    pre > code.sourceCode > span > a:first-child::before { text-decoration: underline; }
    }
    code span.al { color: #ffcfaf; } /* Alert */
    code span.an { color: #7f9f7f; font-weight: bold; } /* Annotation */
    code span.at { } /* Attribute */
    code span.bn { color: #dca3a3; } /* BaseN */
    code span.bu { } /* BuiltIn */
    code span.cf { color: #f0dfaf; } /* ControlFlow */
    code span.ch { color: #dca3a3; } /* Char */
    code span.cn { color: #dca3a3; font-weight: bold; } /* Constant */
    code span.co { color: #7f9f7f; } /* Comment */
    code span.cv { color: #7f9f7f; font-weight: bold; } /* CommentVar */
    code span.do { color: #7f9f7f; } /* Documentation */
    code span.dt { color: #dfdfbf; } /* DataType */
    code span.dv { color: #dcdccc; } /* DecVal */
    code span.er { color: #c3bf9f; } /* Error */
    code span.ex { } /* Extension */
    code span.fl { color: #c0bed1; } /* Float */
    code span.fu { color: #efef8f; } /* Function */
    code span.im { } /* Import */
    code span.in { color: #7f9f7f; font-weight: bold; } /* Information */
    code span.kw { color: #f0dfaf; } /* Keyword */
    code span.op { color: #f0efd0; } /* Operator */
    code span.ot { color: #efef8f; } /* Other */
    code span.pp { color: #ffcfaf; font-weight: bold; } /* Preprocessor */
    code span.sc { color: #dca3a3; } /* SpecialChar */
    code span.ss { color: #cc9393; } /* SpecialString */
    code span.st { color: #cc9393; } /* String */
    code span.va { } /* Variable */
    code span.vs { color: #cc9393; } /* VerbatimString */
    code span.wa { color: #7f9f7f; font-weight: bold; } /* Warning */
  </style>
  <link rel="stylesheet" href="estilo.css" />
  <!--[if lt IE 9]>
    <script src="//cdnjs.cloudflare.com/ajax/libs/html5shiv/3.7.3/html5shiv-printshiv.min.js"></script>
  <![endif]-->
  <div class="tc">
    <a href="index.html">Regresar al índice</a>
  </div>
</head>
<body>
<header id="title-block-header">
<h1 class="title">Animaciones</h1>
</header>
<p>Para crear animaciones se tiene que utilizar el editor que aparece en la parte superior de la pantalla:</p>
<p><img src="imagenes/animaciones.assets/image-20191218235021115.png" /></p>
<p>Este botón abrirá una ventana en donde se pueden previsualizar todas la animaciones del proyecto:</p>
<p><img src="imagenes/animaciones.assets/image-20191218235117098.png" /></p>
<p>Estas animaciones también se pueden editar fácilmente, solo tienes que pasar el mouse sobre el nombre de la animación y pulsar el botón “editar”:</p>
<p><img src="imagenes/animaciones.assets/image-20191218235228151.png" /></p>
<p>Las animaciones son simplemente una lista de imágenes que pilas mostrará una detrás de la otra, a determinada velocidad. Vas ver toda esta información en el editor de animaciones:</p>
<p><img src="imagenes/animaciones.assets/image-20191218235340936.png" /></p>
<h2 id="crear-animaciones-desde-el-editor">Crear animaciones desde el editor</h2>
<p>Para crear animaciones hay que pulsar el botón “Crear una animación”:</p>
<p><img src="imagenes/animaciones.assets/image-20191218235448801.png" /></p>
<p>y luego cargar cada uno de los cuadros de animación pulsando el botón “+” que aparece en la parte superior de la ventana:</p>
<p><img src="imagenes/animaciones.assets/image-20191218235623632.png" /></p>
<p>Por ejemplo, aquí incluí algunos cuadros de animación de un personaje corriendo:</p>
<p><img src="imagenes/animaciones.assets/image-20191219000155013.png" /></p>
<p>Podes utilizar el botón “Reproducir” y la propiedad “Cuadros por segundo” para ajustar la velocidad de la animación y dejarla como quieras:</p>
<p><img src="imagenes/animaciones.assets/screencast%202019-12-19%2000-04-05.gif" /></p>
<p>Por último es muy importante que le asignes un nombre a la animación, por ejemplo “shaolin_corre”:</p>
<p><img src="imagenes/animaciones.assets/image-20191219000635690.png" /></p>
<p>Esto es muy importante porque tu juego puede tener un montón de animaciones, y el nombre que le asignes será la única forma de identificar cada una de las animaciones.</p>
<p>Ahora sí, podes cerrar la ventana del editor y continuar con la siguiente sección.</p>
<h2 id="cómo-usar-las-animaciones">Cómo usar las animaciones</h2>
<p>Una vez que tienes creada la animación, lo único que hace falta es copiar el código que aparece como ayuda en el visor de animaciones dentro del código:</p>
<p><img src="imagenes/animaciones.assets/image-20191219000753983.png" /></p>
<p>Ese código, sirve para indicarle al actor qué animación tiene que reproducir. Por ejemplo, si quieres que el actor muestre esta animación al comenzar deberías colocarlo dentro de la función “iniciar” así:</p>
<p><img src="imagenes/animaciones.assets/image-20191219000913347.png" /></p>
<h2 id="crear-animaciones-desde-el-código">Crear animaciones desde el código</h2>
<p>Para crear y asignar animaciones también se puede usar directamente el código del editor. Esto es algo más difícil, pero en algunas situaciones puede ser útil.</p>
<p>Existe un método llamado “crear_animacion” que se puede invocar especificando el nombre de la animación, los cuadros que se deben mostrar y la velocidad.</p>
<p>Por ejemplo, para crear una animación de un actor mientras está esperando usé lo siguiente:</p>
<div class="sourceCode" id="cb1"><pre class="sourceCode typescript"><code class="sourceCode typescript"><span id="cb1-1"><a href="#cb1-1"></a>this<span class="op">.</span><span class="fu">crear_animacion</span>(<span class="st">&quot;conejo_parado&quot;</span><span class="op">,</span> [<span class="st">&quot;imagenes:conejo/conejo_parado1&quot;</span><span class="op">,</span> <span class="st">&quot;imagenes:conejo/conejo_parado2&quot;</span>]<span class="op">,</span> <span class="dv">2</span>)<span class="op">;</span></span></code></pre></div>
<p>El valor “2” significa que la animación se debe mostrar a una velocidad de 2 cuadros por segundo.</p>
<p>Luego, una vez creada la animación, se puede reproducir usando esta llamada:</p>
<div class="sourceCode" id="cb2"><pre class="sourceCode typescript"><code class="sourceCode typescript"><span id="cb2-1"><a href="#cb2-1"></a>this<span class="op">.</span><span class="at">animacion</span> <span class="op">=</span> <span class="st">&quot;conejo_parado&quot;</span><span class="op">;</span></span></code></pre></div>
<p>La creación de animaciones generalmente se realiza en el método iniciar de esta forma:</p>
<div class="sourceCode" id="cb3"><pre class="sourceCode typescript"><code class="sourceCode typescript"><span id="cb3-1"><a href="#cb3-1"></a>class Conejo extends Actor {</span>
<span id="cb3-2"><a href="#cb3-2"></a>  iniciar() {</span>
<span id="cb3-3"><a href="#cb3-3"></a>    this<span class="op">.</span><span class="fu">crear_animacion</span>(<span class="st">&quot;conejo_parado&quot;</span><span class="op">,</span> [<span class="st">&quot;imagenes:conejo/conejo_parado1&quot;</span><span class="op">,</span> <span class="st">&quot;imagenes:conejo/conejo_parado2&quot;</span>]<span class="op">,</span> <span class="dv">2</span>)<span class="op">;</span></span>
<span id="cb3-4"><a href="#cb3-4"></a>    this<span class="op">.</span><span class="fu">crear_animacion</span>(<span class="st">&quot;conejo_camina&quot;</span><span class="op">,</span> [<span class="st">&quot;imagenes:conejo/conejo_camina1&quot;</span><span class="op">,</span> <span class="st">&quot;imagenes:conejo/conejo_camina2&quot;</span>]<span class="op">,</span> <span class="dv">20</span>)<span class="op">;</span></span>
<span id="cb3-5"><a href="#cb3-5"></a>    this<span class="op">.</span><span class="fu">crear_animacion</span>(<span class="st">&quot;conejo_salta&quot;</span><span class="op">,</span> [<span class="st">&quot;imagenes:conejo/conejo_salta&quot;</span>]<span class="op">,</span> <span class="dv">20</span>)<span class="op">;</span></span>
<span id="cb3-6"><a href="#cb3-6"></a>    this<span class="op">.</span><span class="fu">crear_animacion</span>(<span class="st">&quot;conejo_muere&quot;</span><span class="op">,</span> [<span class="st">&quot;imagenes:conejo/conejo_pierde&quot;</span>]<span class="op">,</span> <span class="dv">1</span>)<span class="op">;</span></span>
<span id="cb3-7"><a href="#cb3-7"></a></span>
<span id="cb3-8"><a href="#cb3-8"></a>    this<span class="op">.</span><span class="at">animacion</span> <span class="op">=</span> <span class="st">&quot;conejo_parado&quot;</span><span class="op">;</span></span>
<span id="cb3-9"><a href="#cb3-9"></a>  }</span>
<span id="cb3-10"><a href="#cb3-10"></a></span>
<span id="cb3-11"><a href="#cb3-11"></a>  actualizar() {}</span>
<span id="cb3-12"><a href="#cb3-12"></a>}</span></code></pre></div>
<p>Luego, para cambiar de animación, se puede re-definir el valor del atributo animación así:</p>
<div class="sourceCode" id="cb4"><pre class="sourceCode typescript"><code class="sourceCode typescript"><span id="cb4-1"><a href="#cb4-1"></a>class Conejo extends Actor {</span>
<span id="cb4-2"><a href="#cb4-2"></a>  iniciar() {</span>
<span id="cb4-3"><a href="#cb4-3"></a>    this<span class="op">.</span><span class="fu">crear_animacion</span>(<span class="st">&quot;conejo_parado&quot;</span><span class="op">,</span> [<span class="st">&quot;imagenes:conejo/conejo_parado1&quot;</span><span class="op">,</span> <span class="st">&quot;imagenes:conejo/conejo_parado2&quot;</span>]<span class="op">,</span> <span class="dv">2</span>)<span class="op">;</span></span>
<span id="cb4-4"><a href="#cb4-4"></a>    this<span class="op">.</span><span class="fu">crear_animacion</span>(<span class="st">&quot;conejo_camina&quot;</span><span class="op">,</span> [<span class="st">&quot;imagenes:conejo/conejo_camina1&quot;</span><span class="op">,</span> <span class="st">&quot;imagenes:conejo/conejo_camina2&quot;</span>]<span class="op">,</span> <span class="dv">20</span>)<span class="op">;</span></span>
<span id="cb4-5"><a href="#cb4-5"></a>    this<span class="op">.</span><span class="fu">crear_animacion</span>(<span class="st">&quot;conejo_salta&quot;</span><span class="op">,</span> [<span class="st">&quot;conejo_salta&quot;</span>]<span class="op">,</span> <span class="dv">20</span>)<span class="op">;</span></span>
<span id="cb4-6"><a href="#cb4-6"></a>    this<span class="op">.</span><span class="fu">crear_animacion</span>(<span class="st">&quot;conejo_muere&quot;</span><span class="op">,</span> [<span class="st">&quot;conejo_muere&quot;</span>]<span class="op">,</span> <span class="dv">1</span>)<span class="op">;</span></span>
<span id="cb4-7"><a href="#cb4-7"></a></span>
<span id="cb4-8"><a href="#cb4-8"></a>    this<span class="op">.</span><span class="at">animacion</span> <span class="op">=</span> <span class="st">&quot;conejo_parado&quot;</span><span class="op">;</span></span>
<span id="cb4-9"><a href="#cb4-9"></a>  }</span>
<span id="cb4-10"><a href="#cb4-10"></a></span>
<span id="cb4-11"><a href="#cb4-11"></a>  actualizar() {</span>
<span id="cb4-12"><a href="#cb4-12"></a>    if (this<span class="op">.</span><span class="at">pilas</span><span class="op">.</span><span class="at">control</span><span class="op">.</span><span class="at">izquierda</span>) {</span>
<span id="cb4-13"><a href="#cb4-13"></a>      this<span class="op">.</span><span class="at">animacion</span> <span class="op">=</span> <span class="st">&quot;conejo_camina&quot;</span><span class="op">;</span></span>
<span id="cb4-14"><a href="#cb4-14"></a>      this<span class="op">.</span><span class="at">x</span> <span class="op">-=</span> <span class="dv">5</span><span class="op">;</span></span>
<span id="cb4-15"><a href="#cb4-15"></a>    }</span>
<span id="cb4-16"><a href="#cb4-16"></a></span>
<span id="cb4-17"><a href="#cb4-17"></a>    if (this<span class="op">.</span><span class="at">pilas</span><span class="op">.</span><span class="at">control</span><span class="op">.</span><span class="at">derecha</span>) {</span>
<span id="cb4-18"><a href="#cb4-18"></a>      this<span class="op">.</span><span class="at">animacion</span> <span class="op">=</span> <span class="st">&quot;conejo_camina&quot;</span><span class="op">;</span></span>
<span id="cb4-19"><a href="#cb4-19"></a>      this<span class="op">.</span><span class="at">x</span> <span class="op">+=</span> <span class="dv">5</span><span class="op">;</span></span>
<span id="cb4-20"><a href="#cb4-20"></a>    }</span>
<span id="cb4-21"><a href="#cb4-21"></a></span>
<span id="cb4-22"><a href="#cb4-22"></a>    if (<span class="op">!</span>this<span class="op">.</span><span class="at">pilas</span><span class="op">.</span><span class="at">control</span><span class="op">.</span><span class="at">izquierda</span> <span class="op">&amp;&amp;</span> <span class="op">!</span>this<span class="op">.</span><span class="at">pilas</span><span class="op">.</span><span class="at">control</span><span class="op">.</span><span class="at">derecha</span>) {</span>
<span id="cb4-23"><a href="#cb4-23"></a>      this<span class="op">.</span><span class="at">animacion</span> <span class="op">=</span> <span class="st">&quot;conejo_parado&quot;</span><span class="op">;</span></span>
<span id="cb4-24"><a href="#cb4-24"></a>    }</span>
<span id="cb4-25"><a href="#cb4-25"></a>  }</span>
<span id="cb4-26"><a href="#cb4-26"></a>}</span></code></pre></div>
<h2 id="detectar-la-finalización-de-las-animaciones">Detectar la finalización de las animaciones</h2>
<p>Las animaciones siempre se muestran de forma cíclica, es decir, cuanto terminan vuelven a empezar desde cero. Si tu animación es tradicional, como un personaje caminando, no tienes que hacer nada adicional para que continue la animación automáticamente.</p>
<p>Si quieres detectar el momento exacto cuando la animación llega a su final, deberías crear un método llamado <code>cuando_finaliza_animacion</code> y colocar ahí algún código para reaccionar ante la finalización de la animación. Por ejemplo, el actor “explosión” se elimina de la pantalla automáticamente cuando finaliza su animación:</p>
<div class="sourceCode" id="cb5"><pre class="sourceCode typescript"><code class="sourceCode typescript"><span id="cb5-1"><a href="#cb5-1"></a>class explosion extends Actor {</span>
<span id="cb5-2"><a href="#cb5-2"></a></span>
<span id="cb5-3"><a href="#cb5-3"></a>  <span class="co">// Otros métodos</span></span>
<span id="cb5-4"><a href="#cb5-4"></a></span>
<span id="cb5-5"><a href="#cb5-5"></a>  cuando_finaliza_animacion(nombre<span class="op">:</span> <span class="dt">string</span>) {</span>
<span id="cb5-6"><a href="#cb5-6"></a>    this<span class="op">.</span><span class="fu">eliminar</span>()<span class="op">;</span></span>
<span id="cb5-7"><a href="#cb5-7"></a>  }</span>
<span id="cb5-8"><a href="#cb5-8"></a>}</span></code></pre></div>
<div class="tc">
  <div>
    <a href="#" onclick="document.documentElement.scrollTo(0, 0);">Subir</a>
  </div>

  <div>
    <a href="index.html">Regresar al índice</a>
  </div>
</div>
</body>
</html>
